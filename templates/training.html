{% extends "base.html" %}

{% block content %}


	<h1>{{ site.title }}</h1>

	{% if training_data.stat == "error" %}
		<div>{{ training_data.errors }}</div>
	{% else %}
	{{ dump(training_data.stat) }}
		{% set training = training_data.data %}
		{% set progress = ((
			attribute(training.progress, current_stat) /
			attribute(training.target, current_stat)) *
			100)|number_format %}

		<ul>
			{% for stat in stats|keys %}
			{% if attribute(training.target, stat) %}
				<li><a href="{{ path_for('training_stat', { 'id': id_training, 'stat': stat }) }}">
					{{ stats[stat] }}:
					{{ attribute(training.progress, stat) }} / 
					{{ attribute(training.target, stat) }}
				</a></li>
			{% endif %}
			{% endfor %}
		</ul>
		
		<h2>Training #{{ training.id }} - {{ stats[current_stat] }}</h2>
		<div class="progress progress--main" style="background: #fff">
			<div class="progress__bar" style="background: green; height: 1em; width: {{ progress }}%;"></div>
		</div>
		

		{# Records #}
		{% if records_data.stat == "ok" > 0 %}
			{% set records = records_data.data  %}

			<h2>Records</h2>
			<ul>
				{% for record in records %}
					<li>
						{{ record.value }}
						{% if record.from is defined %}

						{% endif %}
					</li>
				{% endfor %}
			</ul>

		{% else %}
			<h2>Records</h2>
			<div>{{ records_data.errors }}</div>
		{% endif %}

	{% endif %}



{% endblock %}
